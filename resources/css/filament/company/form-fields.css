/* Filament Repeater Styles */
.fi-fo-repeater.uncontained .fi-fo-repeater-item {
    @apply divide-y-0 rounded-none bg-none shadow-none ring-0 ring-gray-950/5 dark:divide-white/10 dark:bg-white/5 dark:ring-white/10;

    .fi-fo-repeater-item-header {
        @apply px-0;

        > h4 {
            @apply text-base font-semibold leading-6 text-gray-950 dark:text-white;
        }
    }

    .fi-fo-repeater-item-content {
        @apply py-4 px-0;
    }
}

.fi-fo-repeater-item {
    @apply divide-y divide-gray-200 rounded-xl bg-white dark:bg-gray-900;
}

/* Report Field Styles */
.fi-fo-field-wrp.report-hidden-label > div.grid.gap-y-2 > div.flex.items-center {
    @apply hidden;
}

.fi-fo-field-wrp.report-hidden-label {
    @apply lg:mt-8;
}

/* Choices.js select field overrides */
.choices__list.choices__list--single {
    @apply w-full;
}

.choices:focus-visible {
    outline: none;
}

.choices__group {
    @apply text-gray-900 dark:text-white font-semibold;
}

.choices[data-type="select-one"] .choices__inner {
    line-height: 1.5;
    display: flex;
    align-items: center;
    min-height: 2.25rem;
    box-sizing: border-box;
}

.choices:not(.is-disabled) .choices__item {
    cursor: pointer;
}

/* Base horizontal scrolling for all TableRepeater components */
.table-repeater-container {
    overflow-x: auto;
    max-width: 100%;
    -webkit-overflow-scrolling: touch;
}

.table-repeater-container:has(.choices.is-open) {
    overflow: visible;
}

.table-repeater-container table {
    min-width: 100%;
    width: max-content;
}

/* Excel/Spreadsheet styling */
.is-spreadsheet .table-repeater-container {
    border-radius: 0 !important;
    border: 1px solid #e5e7eb !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    @apply ring-0 !important;
}

.is-spreadsheet .table-repeater-header {
    background-color: #f8f9fa !important;
    border-radius: 0 !important;
}

/* Fix for input alignment with headers */
.is-spreadsheet .table-repeater-header-column,
.is-spreadsheet .table-repeater-column {
    padding: 6px 8px !important;
}

/* Right-align all inputs */
.is-spreadsheet .table-repeater-column input {
    text-align: right !important;
    width: 100% !important;
}

/* Remove any additional padding from input containers */
.is-spreadsheet .fi-input-wrapper,
.is-spreadsheet .fi-input {
    padding: 0 !important;
    width: 100% !important;
}

.is-spreadsheet .table-repeater-header-column {
    border-radius: 0 !important;
    border: 1px solid #e5e7eb !important;
    background-color: #f8f9fa !important;
    font-weight: 600 !important;
    padding: 6px 8px !important;
}

.is-spreadsheet .table-repeater-column {
    border: 1px solid #e5e7eb !important;
    padding: 4px 8px !important;
    position: relative !important;
}

/* Incorporate flat input styling from streamlined */
.is-spreadsheet .fi-input-wrp,
.is-spreadsheet .fi-fo-file-upload .filepond--root {
    @apply ring-0 bg-transparent shadow-none !important;
}

.is-spreadsheet .fi-input-wrp input {
    @apply bg-transparent border-0 shadow-none !important;
}

.is-spreadsheet .fi-select-trigger {
    @apply ring-0 bg-transparent shadow-none !important;
}

/* Excel-like row styles */
.is-spreadsheet .table-repeater-row:nth-child(even) {
    background-color: #f9fafb;
}

/* Excel-like focus/selection styles */
.is-spreadsheet .table-repeater-column:focus-within {
    outline: 2px solid #2563eb !important;
    outline-offset: -2px !important;
    z-index: 1 !important;
}

.is-spreadsheet .fi-input-wrp:focus-within {
    @apply ring-0 shadow-none !important;
}

.is-spreadsheet input:focus,
.is-spreadsheet select:focus,
.is-spreadsheet textarea:focus {
    @apply ring-0 shadow-none !important;
    outline: none !important;
}

/* Spacing for form controls */
.is-spreadsheet .fi-fo-field-wrp:has(.fi-fo-checkbox-list),
.is-spreadsheet .fi-fo-field-wrp:has(.fi-checkbox-input),
.is-spreadsheet .fi-fo-field-wrp:has(.fi-fo-radio) {
    @apply py-2 px-3 !important;
}

.is-spreadsheet .fi-fo-field-wrp:has(.fi-fo-toggle) {
    @apply inline-block mt-1 !important;
}

/* Preserve responsive behavior */
@media (max-width: theme('screens.sm')) {
    .table-repeater-component.break-point-sm .table-repeater-container {
        overflow-x: visible;
    }
}

@media (max-width: theme('screens.md')) {
    .table-repeater-component.break-point-md .table-repeater-container {
        overflow-x: visible;
    }
}

@media (max-width: theme('screens.lg')) {
    .table-repeater-component.break-point-lg .table-repeater-container {
        overflow-x: visible;
    }
}

@media (max-width: theme('screens.xl')) {
    .table-repeater-component.break-point-xl .table-repeater-container {
        overflow-x: visible;
    }
}

@media (max-width: theme('screens.2xl')) {
    .table-repeater-component.break-point-2xl .table-repeater-container {
        overflow-x: visible;
    }
}

